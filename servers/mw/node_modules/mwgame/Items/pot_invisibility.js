var O2 = require('o2');
var CONST = require('../data/consts.js');
var Effect = require('../Effects.js');
var Potion = require('./Abstract/Potion.js');

/**
 * Potion d'invisibilité :
 * Celui qui la boit devient invisible jusqu'a ce qu'il attaque ou qu'il s'ecoule une minute.
 * Il peut rester invisible en effectuant des action non offensive comme ouvrir une porte ou boire une potion de soin
 * Ls creatures invisible sont déecté par ceux qui ont bu une potion d4ESP et aussi par ceux qui ont lancé un
 * sort dde clairvoyance (la carte affiche la posotion des creatures invisibles
 */
O2.extendClass('PotionInvisibility', Potion, {
	drink: function(ctx) {
		var eInvis = new Effect.Invisibility();
		eInvis.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		ctx.effects = [eInvis];
	}
});

module.exports = PotionInvisibility;

