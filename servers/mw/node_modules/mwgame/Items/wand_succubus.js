var O2 = require('o2');
var Utils = require('../Utils.js');
var Effect = require('../Effects.js');
var WandType1 = require('./Abstract/WandType1.js');

/**
 * Baguette magique type 1
 * Chaque missile inflige entre 5 et 10 points de dégâts 
 */
O2.extendClass('WandSuccubus', WandType1, {
	missileRef: 'p_firebolt',
	cooldown: 300,
	
	fire: function(ctx) {
		O2.parent(this, ctx);
		var m, e;
		if (ctx.missiles) {
			for (var i = 0; i < ctx.missiles.length; ++i) {
				m = ctx.missiles[i];
				e = m.getData('effects');
				e.push(new Effect.Damage(Utils.rand(10, 15)));
			}
		}
	}
});

module.exports = WandSuccubus;
