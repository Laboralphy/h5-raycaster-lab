var O2 = require('o2');
var CONST = require('../data/consts.js');
var u = require('../Utils.js');
var Effect = require('../Effects.js');
var Potion = require('./Abstract/Potion.js');

/**
 * Potion de vitesse :
 * augmente la vitesse de déplacement de 50%.
 * augmente la cadence de tir de 40%
 */
O2.extendClass('PotionHaste', Potion, {
	drink: function(ctx) {
		var eHaste = new Effect.Speed(50);
		eHaste.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		var eCD = new Effect.Cooldown(-40);
		eCD.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		ctx.effects = [eHaste, eCD];
	}
});

module.exports = PotionHaste;

/*
Exemple de création de la potion de vitesse

La potion de vitesse est sensé modifier la vitesse de déplacement de celui qui la boit
1) Je commence par créer un effet modification de vitesse.
Je créé donc un nouveau fichier Speed.js que je mets dans le repertoire "Effets"
Cet effet modifie l'attribue "speed" de l'entité qui bénéficie de cet effet.

2) Je créé un fichier vide pot_haste.js dans le repertoire Items.
Cet item à une methode "drink" qui génère l'effet Speed(50) dans le tableau des effets du contexte

3) Comme l'attribut speed sera modifié je lui consacre une entrée dans Instance::soulAttributeChanged
Il générera un message de changemetnb de status "speed"

4) Dans le client "Game.js" je mets à jour la fonction de reception de ce "speed"
scOS_me
j'ajoute un case "speed" qui va affecter le player thinker
*/
