var O2 = require('o2');
var Effect = require('./Abstract/Effect.js');
var CONST = require('mwgame/data/consts.js');
var u = require('mwgame/Utils.js');

// Effet d'augmentation ou diminution de la puissance de feu
// tous les dégât infligé par les projectile de la baguette ou des parchemin sont augmenté
// cet effet n'agit que sur les projectile
O2.extendClass('ADV.Effect.Magnet', Effect, {
	
	__construct: function(nPower) {
		O2.parent(this, 'Magnet', nPower <= 0 ? 'bless' : 'curse');
		this.setLevel(nPower);
	},

	cast: function(ep) {
		this.getTarget().getSoul().setBonus('magnet', this.getLevel());
	},

	expire: function(ep) {
		this.getTarget().getSoul().setBonus('magnet', -this.getLevel());
	}
});

module.exports = ADV.Effect.Magnet;
